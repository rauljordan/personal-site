
<!DOCTYPE html>
<html lang="en">


<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Raul Jordan | How to set up an Ethereum proof-of-stake devnet in minutes </title>
	<script defer src="https://use.fontawesome.com/releases/v5.8.1/js/all.js"
		integrity="sha384-g5uSoOSBd7KkhAMlnQILrecXvzst9TdC09/VM+pjDTCM+1il8RHz5fKANTFFb+gQ"
		crossorigin="anonymous"></script>
	<meta property="og:title" content="How to set up an Ethereum proof-of-stake devnet in minutes " />
	<meta name="author" content="Raul Jordan" />
	<meta property="og:locale" content="en_US" />
	<meta name="description" content="" />
	<meta property="og:description" content="" />
	<meta property="og:site_name" content="rauljordan" />
	<meta property="og:image" content="" />
	<meta property="og:type" content="article" />
	<meta property="article:published_time" content="2022-08-20T00:00:00&#43;0000" />
	<meta name="twitter:card" content="summary_large_image" />
	<meta property="twitter:image" content="" />
	<meta property="twitter:title" content="How to set up an Ethereum proof-of-stake devnet in minutes " />
	<meta name="twitter:site" content="" />
	<meta name="twitter:creator" content="" />
	
	<link rel="stylesheet" href="/css/style.css">
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-53062950-12"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() {dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-53062950-12');
	</script>
</head>


<body>
	
<div class="site-header">
	<div class="wrapper">
		<a class="site-title" rel="author" href="/">
			rauljordan
			<b class="command_prompt"></b><b class="blinking_cursor">_</b>
		</a>
		<span class="social_links">
			
			<a class="color-purple-hover" href="https://github.com/rauljordan"><i class="fab fa-github-square"></i></a>
			
			<a class="color-cyan-hover" href="https://twitter.com/rauljordaneth"><i class="fab fa-twitter-square"></i></a>
			
			<a class="color-red-hover" href="https://medium.com/@rauljordan"><i class="fab fa-medium"></i></a>
			
		</span>
	</div>
</div>

	<main class="page-content" aria-label="Content">
		<div class="wrapper">
			
<div class="author-box">
	<div class="flex-header">
		<div class="flex-img">
			<img src="https://gravatar.com/avatar/bbc15eb70de907e278d669fa0c1016fc?s=256" class="author-avatar" />
		</div>
		<div class="flex-content">
			Hi, my name is Raul Jordan. I am a Go software engineer working on the Ethereum blockchain protocol. I write about distributed systems programming, technology, life, and ideas for how we can create a less zero-sum world.
		</div>
	</div>

	<div class="read-more">
		Read more <a href="/2017/01/01/about-me.html">about me</a> or contact me <a
			href="mailto:rauljordan@alumni.harvard.edu">rauljordan@alumni.harvard.edu</a>
	</div>
</div>

			
<div class="post">
	<h1 class="post-title">How to set up an Ethereum proof-of-stake devnet in minutes </h1>
	<div class="post-tags">
		
		<a class="tag" href="/tag/golang">golang</a>
		
		<a class="tag" href="/tag/ethereum">ethereum</a>
		
	</div>
	<div class="post-date">Published on 24/01/2020</div>
	<p>With Ethereum transition to proof-of-stake right around the corner (<a href="https://bordel.wtf">some estimates</a> show the
transition happening in mid-September), a lot of people are wondering how to set up a local testing
environment with the shiny new tools Ethereum is getting.</p>
<p>Running nodes has become easier over the past year, with go-ethereum taking around 2 days to sync and some
hyper-optimized clients such as Akula or Erigon taking a week to sync an entire, <em>archival</em> node. It is true that
setting up a node on mainnet today is easier than ever. However, developers often want to set up their own,
local blockchain for testing purposes. We call these <strong>development networks</strong> or <strong>devnets</strong>.</p>
<p>Devnets are critical for developers working on the protocol as well as smart contract developers that want to run their own chain using their own initial state. However, the latter need can be satisfied by tools such as
<a href="https://github.com/foundry-rs/foundry/">Foundry</a> which runs a “simulated” Ethereum environment that is
enough for testing many contract interactions.</p>
<p>Notwithstanding, more complex applications may want an environment that is closer to a <strong>real Ethereum blockchain</strong>,
and setting up a local chain from scratch is the best approach. This blog post will help you understand
how to set up your own, <strong>local Ethereum chain</strong> from scratch that migrates to proof-of-stake in <strong>minutes</strong>.</p>
<h1>Setting up</h1>
<p>With Ethereum switching to proof-of-stake, there are a bunch of buzzwords flying around:</p>
<blockquote>
<p>&quot;Consensus&quot;, &quot;Execution&quot;, &quot;the Merge&quot;, What does it all mean???</p>
</blockquote>
<p>Today, running an Ethereum node means simply installing a client such as
<a href="https://github.com/ethereum/go-ethereum">go-ethereum</a> and running a simple command to sync the chain. After
the switch to proof-of-stake, running an &quot;Ethereum node&quot; will require <strong>two components</strong>:</p>
<ol>
<li><strong>execution client software</strong> in charge of processing transactions and smart contracts. This is go-ethereum</li>
<li><strong>consensus client software</strong> in charge of running the proof-of-stake logic. This tutorial will use the
<a href="https://github.com/prysmaticlabs/prysm">Prysm</a> implemntation, which my team develops.</li>
</ol>
<p>Prysm is an open source, Go implementation of the Ethereum proof-of-stake protocol. It can be used to run a node+validator on mainnet and testnet environments with ease, and is highly configurable to meet users’ needs.</p>
<p>The architecture looks something like this, thanks to the excellent graphic from the Besu team</p>
<p><img src="https://besu.hyperledger.org/en/stable/images/Execution-Consensus-Clients.png" alt="Image"></p>
<p>This seems daunting if you want to set up a local Ethereum blockchain! However, this post will go over
every detail you need to get up and running. Let's get started.</p>
<h1>Easy setup using Docker</h1>
<p>To get started, install <a href="https://docs.docker.com/get-docker/">Docker</a> and <a href="https://docs.docker.com/compose/install/">Docker Compose</a> for your system. If you are on MacOS, you should adjust your settings on Docker desktop
to provide more resources to your Docker containers. Go to Preferences -&gt; Resources and
give around 4 CPUs and 8Gb of memory if possible for a smooth installation.</p>
<p>Next, clone a repository containing the configuration needed to run a local devnet with Docker here:</p>
<pre><code>git clone https://github.com/rauljordan/eth-pos-devnet &amp;&amp; cd eth-pos-devnet
</code></pre>
<p>Finally, simply run docker compose inside of the repository above.</p>
<pre><code>docker compose up
</code></pre>
<p>Boom! Your network is up and running.</p>
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span>$ docker compose up -d
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">[</span>+<span style="color:#ff79c6">]</span> Running 7/7
</span></span><span style="display:flex;"><span> ⠿ Network eth-pos-devnet_default                          Created
</span></span><span style="display:flex;"><span> ⠿ Container eth-pos-devnet-geth-genesis-1                 Started
</span></span><span style="display:flex;"><span> ⠿ Container eth-pos-devnet-create-beacon-chain-genesis-1  Started
</span></span><span style="display:flex;"><span> ⠿ Container eth-pos-devnet-geth-account-1                 Started
</span></span><span style="display:flex;"><span> ⠿ Container eth-pos-devnet-geth-1                         Started
</span></span><span style="display:flex;"><span> ⠿ Container eth-pos-devnet-beacon-chain-1                 Started
</span></span><span style="display:flex;"><span> ⠿ Container eth-pos-devnet-validator-1                    Started
</span></span></code></pre><p>You will now be running a <strong>go-ethereum</strong> execution client, Prysm <strong>consensus client</strong> and a Prysm
<strong>validator client</strong> in the background using Docker.</p>
<p>Next, you can inspect the logs of the different services launched.</p>
<pre><code>docker logs eth-pos-devnet-geth-1 -f
</code></pre>
<p>Your go-ethereum node should look as follows:</p>
<p><img src="https://user-images.githubusercontent.com/5572669/186052301-dd487b50-183a-4fa6-bbec-216f32d6f03a.png" alt="Image"></p>
<p>Your Prysm beacon node should show the following:</p>
<p><img src="https://user-images.githubusercontent.com/5572669/186052300-80d9e6d5-e2b7-4e1a-9113-1593e5a5872f.png" alt="Image"></p>
<p>Your Prysm validator client should also be functional:</p>
<p><img src="https://user-images.githubusercontent.com/5572669/186052298-54b82ff2-a901-482e-9e5a-a7c265605ad6.png" alt="Image"></p>
<p>This sets up a single node development network with 64 deterministically-generated validator keys to
drive the creation of blocks in an Ethereum proof-of-stake chain. Here's how it works:</p>
<ol>
<li>We initialize a <strong>go-ethereum</strong>, proof-of-work development node from a <a href="https://github.com/rauljordan/eth-pos-devnet/blob/master/execution/genesis.json">genesis config</a></li>
<li>We initialize a <strong>Prysm beacon chain</strong>, proof-of-stake development node from a <a href="https://github.com/rauljordan/eth-pos-devnet/blob/master/consensus/config.yml">genesis config</a></li>
<li>We then start mining in <strong>go-ethereum</strong>, and concurrently run proof-of-stake using Prysm</li>
<li>Once the mining difficulty of the go-ethereum node reaches 50, the <strong>node switches to proof-of-stake mode</strong> by
letting Prysm drive the consensus of blocks</li>
</ol>
<p>The development net is fully functional and allows for the deployment of smart contracts and all the features
that also come with the Prysm consensus client such as its rich set of APIs for retrieving data from the blockchain.</p>
<p>You now have access to the normal, Ethereum JSON-RPC APIs on http://localhost:8545 and
the new consensus client APIs for the beacon chain on http://localhost:3500. You can see a list of available
API endpoints for the beacon chain client <a href="https://ethereum.github.io/beacon-APIs/">here</a></p>
<p>This development net is a great way to understand the internals of Ethereum proof-of-stake and to mess around
with the different settings that make the system possible.</p>
<h1>Manual setup built from source</h1>
<p>All you will need for a manual installation guide is the Go programming language and <code>git</code>. Install the latest version of Go <a href="https://www.notion.so/How-we-work-e9237b3f750844a0ad3d12768a68d4d7">here</a> and confirm your installation by doing:</p>
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span>go version
</span></span></code></pre><p>You should see an output showing you the version you have installed. Next, create a folder called <code>devnet</code> and change directory into it</p>
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span>mkdir devnet <span style="color:#ff79c6">&amp;&amp;</span> <span style="color:#8be9fd;font-style:italic">cd</span> devnet
</span></span></code></pre><p>The instructions below are running with Prysm commit <a href="https://www.notion.so/How-we-work-e9237b3f750844a0ad3d12768a68d4d7">a65c670f5e4b08221e01e702cbd527684460c2e9</a> and go-ethereum commit <a href="https://www.notion.so/How-we-work-e9237b3f750844a0ad3d12768a68d4d7">23ac8df15302bbde098cab6d711abdd24843d66a</a></p>
<p>Clone the Prysm repository and build the following binaries. We’ll be outputting them to the <code>devnet</code> folder:</p>
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span>git clone https://github.com/prysmaticlabs/prysm <span style="color:#ff79c6">&amp;&amp;</span> <span style="color:#8be9fd;font-style:italic">cd</span> prysm
</span></span><span style="display:flex;"><span>git checkout a65c670f5e4b08221e01e702cbd527684460c2e9
</span></span><span style="display:flex;"><span>go build -o<span style="color:#ff79c6">=</span>../beacon-chain ./cmd/beacon-chain
</span></span><span style="display:flex;"><span>go build -o<span style="color:#ff79c6">=</span>../validator ./cmd/validator
</span></span><span style="display:flex;"><span>go build -o<span style="color:#ff79c6">=</span>../generate-genesis ./tools/genesis-state-gen
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">cd</span> ..
</span></span></code></pre><p>Clone the go-ethereum repository and build it:</p>
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span>git clone https://github.com/ethereum/go-ethereum <span style="color:#ff79c6">&amp;&amp;</span> <span style="color:#8be9fd;font-style:italic">cd</span> go-ethereum
</span></span><span style="display:flex;"><span>git checkout 23ac8df15302bbde098cab6d711abdd24843d66a
</span></span><span style="display:flex;"><span>make geth
</span></span><span style="display:flex;"><span>cp ./build/bin/geth ../geth
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">cd</span> ..
</span></span></code></pre><p>You will now have all the executables you need to run the the software for the devnet.</p>
<h2>Configuration files</h2>
<p>You will need configuration files for setting up Prysm and Go-Ethereum.</p>
<h3>Prysm</h3>
<p>On the Prysm side, create a file called <code>config.yml</code> in your <code>devnet</code> folder containing the following:</p>
<p>The configuration above contains information about the different hard-fork versions that are required for Prysm to run, and has some custom parameters to make running your devnet easier. It’s important to note that you can change any of these settings as desired. To see the full list of configuration options you can change, see <a href="https://www.notion.so/How-we-work-e9237b3f750844a0ad3d12768a68d4d7">here</a>. For example, in the devnet above, we will only have 4 seconds per slot and 4 slots per epoch, making it go faster than normal.</p>
<h3>Go-Ethereum</h3>
<p>On the go-ethereum side, you will need to set-up a private key that will help advance the chain from genesis by mining up until it reaches <strong>proof-of-stake</strong> mode. Create a file called <code>secret.json</code> inside of your <code>devnet</code> folder with the following:</p>
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span>2e0834786285daccd064ca17f1654f67b4aef298acbb82cef9ec422fb4975622
</span></span></code></pre><p>Next, save the following file as <code>genesis.json</code> inside of your devnet folder as well:</p>
<p>The file above sets up the genesis configuration for go-ethereum, which seeds certain accounts with an ETH balance and deploys a validator deposit contract at address <code>0x4242424242424242424242424242424242424242</code> which is used for new validators to deposit 32 ETH and join the proof-of-stake chain. The account that we are running go-ethereum with, <code>0x123463a4b065722e99115d6c222f267d9cabb524</code>, will have an ETH balance you can use to submit transactions on your devnet.</p>
<h2>Running the devnet</h2>
<h3>Go-Ethereum</h3>
<p>Next, we will start by running <strong>go-ethereum</strong> in our <code>devnet</code> folder:</p>
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span>./geth --datadir<span style="color:#ff79c6">=</span>gethdata init genesis.json
</span></span><span style="display:flex;"><span>./geth --datadir<span style="color:#ff79c6">=</span>gethdata account import sk.json
</span></span></code></pre><p>The last command will ask you to input a password for your secret key. You can just hit enter twice to leave it empty. Next, run geth using the command below</p>
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span>./geth --http --http.api <span style="color:#f1fa8c">&#34;eth,engine&#34;</span> --datadir<span style="color:#ff79c6">=</span>gethdata --allow-insecure-unlock --unlock<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;0x123463a4b065722e99115d6c222f267d9cabb524&#34;</span> --password<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;&#34;</span> --nodiscover console --syncmode<span style="color:#ff79c6">=</span>full --mine
</span></span></code></pre><p>You can check the ETH balance in the geth console by typing in</p>
<p><code>eth.getBalance(&quot;0x123463a4b065722e99115d6c222f267d9cabb524&quot;)</code> which should show <code>2e+22</code></p>
<h3>Prysm</h3>
<p>We will then need to run a Prysm beacon node and a validator client. Prysm will need a <strong>genesis state</strong> which is essentially some data that tells it the initial set of validators. We will be creating a genesis state from a deterministic set of keys below:</p>
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span>./generate-genesis --num-validators<span style="color:#ff79c6">=</span><span style="color:#bd93f9">64</span> --output-ssz<span style="color:#ff79c6">=</span>genesis.ssz --chain-config-file<span style="color:#ff79c6">=</span>config.yml
</span></span></code></pre><p>This will out a file <code>genesis.ssz</code> in your <code>devnet</code> folder. Now, run the Prysm beacon node soon after:</p>
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span>./beacon-chain <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --datadir<span style="color:#ff79c6">=</span>beacondata <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --min-sync-peers<span style="color:#ff79c6">=</span><span style="color:#bd93f9">0</span> <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --interop-genesis-state<span style="color:#ff79c6">=</span>genesis.ssz <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --interop-eth1data-votes <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --bootstrap-node<span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --chain-config-file<span style="color:#ff79c6">=</span>config.yml <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --config-file<span style="color:#ff79c6">=</span>config.yml <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --chain-id<span style="color:#ff79c6">=</span><span style="color:#bd93f9">32382</span> <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --execution-endpoint<span style="color:#ff79c6">=</span>http://localhost:8551 <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --accept-terms-of-use <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --jwt-secret<span style="color:#ff79c6">=</span>gethdata/geth/jwtsecret
</span></span></code></pre><p>and the Prysm validator client soon after:</p>
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span>./validator <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --datadir<span style="color:#ff79c6">=</span>validatordata <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --accept-terms-of-use <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --interop-num-validators<span style="color:#ff79c6">=</span><span style="color:#bd93f9">64</span> <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --interop-start-index<span style="color:#ff79c6">=</span><span style="color:#bd93f9">0</span> <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --force-clear-db <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --chain-config-file<span style="color:#ff79c6">=</span>config.yml <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --config-file<span style="color:#ff79c6">=</span>config.yml
</span></span></code></pre><h2>Expected output</h2>
<p>Your go-ethereum node should look as follows:</p>
<p><img src="https://user-images.githubusercontent.com/5572669/186052301-dd487b50-183a-4fa6-bbec-216f32d6f03a.png" alt="Image"></p>
<p>Your Prysm beacon node should show the following:</p>
<p><img src="https://user-images.githubusercontent.com/5572669/186052300-80d9e6d5-e2b7-4e1a-9113-1593e5a5872f.png" alt="Image"></p>
<p>The errors are normal, cosmetic, and present on all devnet environments. We are working on making the output more aesthetically pleasing in the future.</p>
<p>Your Prysm validator client should also be functional:</p>
<p><img src="https://user-images.githubusercontent.com/5572669/186052298-54b82ff2-a901-482e-9e5a-a7c265605ad6.png" alt="Image"></p>
<p>Upon entering proof-of-stake mode, once the mining difficulty hits <strong>50</strong> in go-ethereum, you will see our special panda in your Prysm beacon chain below:</p>
<p><img src="https://user-images.githubusercontent.com/5572669/186052296-03c18e6f-17f2-4d94-830d-ba7522cc09c8.png" alt="Image"></p>
<h2>Adding Prysm peers to your network</h2>
<p>You can add additional, Prysm beacon chain peers to your proof-of-stake devnet by running the similar command as your first beacon node, but with a few tweaks. In a terminal window, use the following command:</p>
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span>curl localhost:8080/p2p
</span></span></code></pre><p>You should get output similar to this:</p>
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">bootnode</span><span style="color:#ff79c6">=[]</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">self</span><span style="color:#ff79c6">=</span>enr:-MK4QCxV5SEkUO1chqZDSqMChX5fTbqeas4PEJqZtzmcWqZOKpZN8ABVrQFTqHI74M9TKNjE6DPAAgyv5JydsQ6NfPqGAYKxymm8h2F0dG5ldHOI-7v9vd4GdE2EZXRoMpCMkQYoIAAAkf__________gmlkgnY0gmlwhAoAAEqJc2VjcDI1NmsxoQNZcfvPnVEfnKz-mFv285nkDzgRXRVujloXQ_tjuCNEbYhzeW5jbmV0cw-DdGNwgjLIg3VkcIIu4A,/ip4/10.0.0.74/tcp/13000/p2p/16Uiu2HAmJg9Sfy8bX4wyjZNTi8soJrdPt9E9pPzJSmewN5rLoRM6
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#bd93f9">0</span> peers
</span></span></code></pre><p>Copy the part that starts with <code>/ip4</code> after the comma, so in the example above,</p>
<p><code>/ip4/10.0.0.74/tcp/13000/p2p/16Uiu2HAmJg9Sfy8bX4wyjZNTi8soJrdPt9E9pPzJSmewN5rLoRM6</code></p>
<p>then set this as an environment variable:</p>
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">export</span> <span style="color:#8be9fd;font-style:italic">PEER</span><span style="color:#ff79c6">=</span>/ip4/10.0.0.74/tcp/13000/p2p/16Uiu2HAmJg9Sfy8bX4wyjZNTi8soJrdPt9E9pPzJSmewN5rLoRM6
</span></span></code></pre><p>Then, run a second Prysm beacon node as follows:</p>
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;"><code><span style="display:flex;"><span>./beacon-chain <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --datadir<span style="color:#ff79c6">=</span>beacondata2 <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --min-sync-peers<span style="color:#ff79c6">=</span><span style="color:#bd93f9">1</span> <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --interop-genesis-state<span style="color:#ff79c6">=</span>genesis.ssz <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --interop-eth1data-votes <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --bootstrap-node<span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --chain-config-file<span style="color:#ff79c6">=</span>config.yml <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --config-file<span style="color:#ff79c6">=</span>config.yml <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --chain-id<span style="color:#ff79c6">=</span><span style="color:#bd93f9">32382</span> <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --execution-endpoint<span style="color:#ff79c6">=</span>http://localhost:8551 <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --accept-terms-of-use <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --rpc-port<span style="color:#ff79c6">=</span><span style="color:#bd93f9">4001</span> <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --p2p-tcp-port<span style="color:#ff79c6">=</span><span style="color:#bd93f9">13001</span> <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --p2p-udp-port<span style="color:#ff79c6">=</span><span style="color:#bd93f9">12001</span> <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --grpc-gateway-port<span style="color:#ff79c6">=</span><span style="color:#bd93f9">3501</span> <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --monitoring-port<span style="color:#ff79c6">=</span><span style="color:#bd93f9">8001</span> <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --jwt-secret<span style="color:#ff79c6">=</span>gethdata/geth/jwtsecret <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>  --peer<span style="color:#ff79c6">=</span><span style="color:#8be9fd;font-style:italic">$PEER</span>
</span></span></code></pre><p>You will see the node start to synchronize with the chain as expected!</p>
<p><img src="https://user-images.githubusercontent.com/5572669/186052294-70909835-210f-4b13-86a3-cf1f568bb8a3.png" alt="Image"></p>

</div>

<div class="comments">
	
<div id="disqus_thread"></div>
<script>
	var disqus_config = function () {
		this.page.url = 'https://rauljordan.com/\/2022\/08\/21\/how-to-setup-a-proof-of-stake-devnet.html';
		this.page.identifier = '\/2022\/08\/21\/how-to-setup-a-proof-of-stake-devnet.html';
		this.page.title = 'How to set up an Ethereum proof-of-stake devnet in minutes ';
	};

	(function () {
		var d = document, s = d.createElement('script');

		s.src = '//rauljordanblog-1.disqus.com/embed.js';

		s.setAttribute('data-timestamp', +new Date());
		(d.head || d.body).appendChild(s);
	})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments
		powered by Disqus.</a></noscript>

</div>

		</div>
	</main>
	
<footer class="site-footer">
	<div class="wrapper">
		<div class="credits">Made With Golang <i class="fas fa-heart"></i></div>
	</div>
</footer>

	<script>
		window.FontAwesomeConfig = {
			searchPseudoElements: true
		}
	</script>
</body>

</html>
